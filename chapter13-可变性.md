chapter13 可变性
===================

可变性，也就是可改变事物的能力，用在 Rust 中与其他语言有些不同。Rust 变量绑定默认是不可变的：

```rust
let = 5;
x = 6;
```

这样会报以下错误：

```
2 |     let x = 5;
  |         - first assignment to `x`
3 |     x = 6;
  |     ^^^^^ re-assignment of immutable variable
```

可以使用 `mut` 关键字来引入可变性：

```rust
let mut x = 5;
x = 6;
```

这是一个可变的变量绑定。当一个绑定是可变的，意味着你可以改变它指向的内容。所以在上面这个例子中，`x` 的值并没有多大的变化，不过这个绑定从一个 `i32` 变成另外一个。

也可以使用 `&x` 创建一个它的引用，如果想要使用这个引用改变它的值，需要一个可变引用：

```rust
let mut x = 5;
let y = &mut x;
```

`y` 是一个（指向）可变引用的不可变绑定，它意味着你不能把 `y` 与其他变量绑定（`y = &mut z`），不过 `y` 可以用来把 `x` 绑定到别的值上（`*y = 5`）。一个微妙的区别。

当然，如果你想它们都可变：

```rust
let mut x = 5;
let mut y = &mut x;
```

现在 `y` 可以绑定到另外一个值，并且它引用的值也可以改变。

很重要的一点是 `mut` 是模式的一部分，所以可以这样做：

```rust
let (mut x, y) = (5, 6);

fn foo(mut x: i32) {

}
```

注意这里 `x` 是可变的， `y` 不是。

#### 内部可变性与外部可变性

未完待续
